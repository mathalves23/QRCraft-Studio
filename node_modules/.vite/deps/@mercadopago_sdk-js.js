import {
  __commonJS
} from "./chunk-BUSYA2B4.js";

// node_modules/@mercadopago/sdk-js/dist/index.js
var require_dist = __commonJS({
  "node_modules/@mercadopago/sdk-js/dist/index.js"(exports) {
    Object.defineProperty(exports, "__esModule", { value: true });
    exports.loadMercadoPago = void 0;
    var SDK_MERCADOPAGO_URL = "https://sdk.mercadopago.com/js/v2";
    var SDK_MERCADOPAGO_URL_REGEX = /^https:\/\/sdk\.mercadopago\.com\/js\/v2\/?(\?.*)?$/;
    var EXISTING_SCRIPT_MESSAGE_INITIALIZED = "MercadoPago has already been initialized in your window, please remove the duplicate import";
    var EXISTING_SCRIPT_MESSAGE_NOT_AVAILABLE = "MercadoPago.js not available";
    var EXISTING_SCRIPT_MESSAGE_FAILED_TO_LOAD = "Failed to load MercadoPago.js";
    var findScript = () => {
      var scripts = document.querySelectorAll(`script[src^="${SDK_MERCADOPAGO_URL}"`);
      for (var i = 0; i < scripts.length; i++) {
        var script = scripts[i];
        if (!SDK_MERCADOPAGO_URL_REGEX.test(script.src)) {
          continue;
        }
        return script;
      }
      return null;
    };
    var injectScript = () => {
      const script = document.createElement("script");
      script.src = SDK_MERCADOPAGO_URL;
      const headOrBody = document.head || document.body;
      if (!headOrBody) {
        throw new Error("Expected document.body or document.head not to be null. MercadoPago requires a <body> or a <head> element, please add on your project.");
      }
      headOrBody.appendChild(script);
      return script;
    };
    var LoadPromise = null;
    var loadMercadoPago = () => {
      if (LoadPromise !== null) {
        return LoadPromise;
      }
      LoadPromise = new Promise((resolve, reject) => {
        if (typeof window === "undefined") {
          resolve(null);
          return;
        }
        if (window.MercadoPago) {
          console.warn(EXISTING_SCRIPT_MESSAGE_INITIALIZED);
          resolve(window.MercadoPago);
          return;
        }
        try {
          let script = findScript();
          if (script) {
            console.warn(EXISTING_SCRIPT_MESSAGE_INITIALIZED);
          } else if (!script) {
            script = injectScript();
          }
          script.addEventListener("load", () => {
            if (window.MercadoPago) {
              resolve(window.MercadoPago);
            } else {
              reject(new Error(EXISTING_SCRIPT_MESSAGE_NOT_AVAILABLE));
            }
          });
          script.addEventListener("error", () => {
            reject(new Error(EXISTING_SCRIPT_MESSAGE_FAILED_TO_LOAD));
          });
        } catch (error) {
          reject(error);
          return;
        }
      });
      return LoadPromise;
    };
    exports.loadMercadoPago = loadMercadoPago;
  }
});
export default require_dist();
//# sourceMappingURL=@mercadopago_sdk-js.js.map
