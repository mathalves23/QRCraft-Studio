"use client"
"use strict";var W=Object.create;var k=Object.defineProperty;var _=Object.getOwnPropertyDescriptor;var X=Object.getOwnPropertyNames;var q=Object.getPrototypeOf,G=Object.prototype.hasOwnProperty;var V=(o,e)=>{for(var r in e)k(o,r,{get:e[r],enumerable:!0})},D=(o,e,r,t)=>{if(e&&typeof e=="object"||typeof e=="function")for(let s of X(e))!G.call(o,s)&&s!==r&&k(o,s,{get:()=>e[s],enumerable:!(t=_(e,s))||t.enumerable});return o};var M=(o,e,r)=>(r=o!=null?W(q(o)):{},D(e||!o||!o.__esModule?k(r,"default",{value:o,enumerable:!0}):r,o)),Y=o=>D(k({},"__esModule",{value:!0}),o);var K={};V(K,{Alpha:()=>w,ColorPicker:()=>j,ColorService:()=>p,Hue:()=>P,Saturation:()=>L,useColor:()=>O});module.exports=Y(K);var C=M(require("react"));function y(o,e){return Array.isArray(o)?o.includes(e):o}var b=M(require("react"));var x=require("react"),J=o=>{let e=o.getBoundingClientRect();return{width:e.width,height:e.height}};function I(){let o=(0,x.useRef)(null),[e,r]=(0,x.useState)({width:1,height:1});(0,x.useLayoutEffect)(()=>{let s=()=>{o.current&&r(J(o.current))},n=([{contentBoxSize:a}])=>{r({height:a[0].blockSize,width:a[0].inlineSize})};window.addEventListener("resize",s,!1);let i=new ResizeObserver(n);return o.current&&i.observe(o.current),()=>{window.removeEventListener("resize",s,!1),i.disconnect()}},[]);let t=(0,x.useCallback)(()=>{let{left:s=1,right:n=1,top:i=1,bottom:a=1}=o.current?.getBoundingClientRect()??{};return{left:s,right:n,top:i,bottom:a}},[]);return[o,e,t]}function H(o,e,r){return o<e?e:o>r?r:o}var R=class{convert(e,r){let t=this.toHex("#000000"),s=this.hex2rgb(t),n=this.rgb2hsv(s);if(e==="hex"){let i=r;t=this.toHex(i),s=this.hex2rgb(t),t.startsWith("rgba")&&(s=this.toRgb(t),t=this.rgb2hex(s)),n=this.rgb2hsv(s)}else e==="rgb"?(s=r,t=this.rgb2hex(s),n=this.rgb2hsv(s)):e==="hsv"&&(n=r,s=this.hsv2rgb(n),t=this.rgb2hex(s));return{hex:t,rgb:s,hsv:n}}toHex(e){if(e.startsWith("#")){if(e.length===4||e.length===5)return e=e.split("").map((r,t)=>t?t<4?r+r:r==="f"?void 0:r+r:"#").join(""),e;if(e.length===7)return e;if(e.length===9)return e.endsWith("ff")?e.slice(0,7):e}else{let r=document.createElement("canvas").getContext("2d");if(!r)throw new Error("2d context not supported or canvas already initialized");return r.fillStyle=e,r.fillStyle}return"#000000"}toRgb(e){let r=e.match(/\d+(\.\d+)?/gu)??[],[t,s,n,i]=Array.from({length:4}).map((a,c)=>H(+(r[c]??(c<3?0:1)),0,c<3?255:1));return{r:t,g:s,b:n,a:i}}toHsv(e){let r=e.match(/\d+(\.\d+)?/gu)??[],[t,s,n,i]=Array.from({length:4}).map((a,c)=>H(+(r[c]??(c<3?0:1)),0,c?c<3?100:1:360));return{h:t,s,v:n,a:i}}hex2rgb(e){e=e.slice(1);let[r,t,s,n]=Array.from({length:4}).map((i,a)=>parseInt(e.slice(a*2,a*2+2),16));return n=Number.isNaN(n)?1:n/255,{r,g:t,b:s,a:n}}rgb2hsv({r:e,g:r,b:t,a:s}){e/=255,r/=255,t/=255;let n=Math.max(e,r,t),i=n-Math.min(e,r,t),a=i?(n===e?(r-t)/i+(r<t?6:0):n===r?2+(t-e)/i:4+(e-r)/i)*60:0,c=n?i/n*100:0,u=n*100;return{h:a,s:c,v:u,a:s}}hsv2rgb({h:e,s:r,v:t,a:s}){r/=100,t/=100;let n=~~(e/60),i=e/60-n,a=t*(1-r),c=t*(1-r*i),u=t*(1-r*(1-i)),l=n%6,m=[t,c,a,a,u,t][l]*255,d=[u,t,t,c,a,a][l]*255,f=[a,a,u,t,t,c][l]*255;return{r:m,g:d,b:f,a:s}}rgb2hex({r:e,g:r,b:t,a:s}){let[n,i,a,c]=[e,r,t,s].map((u,l)=>Math.round(l<3?u:u*255).toString(16).padStart(2,"0"));return["#",n,i,a,c==="ff"?void 0:c].join("")}},p=new R;var T=M(require("react"));function E(o){return"touches"in o}var S=(0,T.memo)(({onCoordinateChange:o,children:e,disabled:r})=>{let[t,{width:s,height:n},i]=I(),a=(0,T.useCallback)((u,l=!1)=>{let{left:m,top:d}=i(),f=H(u.clientX-m,0,s),N=H(u.clientY-d,0,n);o(l,f,N)},[s,n,i,o]),c=(0,T.useCallback)(u=>{if(!E(u)&&u.button!==0)return;let l=d=>{a(E(d)?d.touches[0]:d)},m=d=>{a(E(d)?d.changedTouches[0]:d,!0),document.removeEventListener(E(d)?"touchmove":"mousemove",l,!1),document.removeEventListener(E(d)?"touchend":"mouseup",m,!1)};l(u),document.addEventListener(E(u)?"touchmove":"mousemove",l,!1),document.addEventListener(E(u)?"touchend":"mouseup",m,!1)},[a]);return T.default.createElement("div",{ref:t,className:"rcp-interactive",onMouseDown:c,onTouchStart:c,"aria-disabled":r},e)});var w=(0,b.memo)(({color:o,disabled:e,onChange:r,onChangeComplete:t})=>{let[s,{width:n}]=I(),i=(0,b.useMemo)(()=>({x:o.hsv.a*n}),[o.hsv.a,n]),a=(0,b.useCallback)((l,m)=>{let d=p.convert("hsv",{...o.hsv,a:m/n});r(d),l&&t?.(d)},[o.hsv,n,r,t]),c=(0,b.useMemo)(()=>[o.rgb.r,o.rgb.g,o.rgb.b].join(" "),[o.rgb.r,o.rgb.g,o.rgb.b]),u=(0,b.useMemo)(()=>[c,o.rgb.a].join(" / "),[c,o.rgb.a]);return b.default.createElement(S,{disabled:e,onCoordinateChange:a},b.default.createElement("div",{ref:s,style:{background:`linear-gradient(to right, rgb(${c} / 0), rgb(${c} / 1)) top left / auto auto,
                      conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) top left / 12px 12px
                      repeat`},className:"rcp-alpha"},b.default.createElement("div",{style:{left:i.x,background:`linear-gradient(to right, rgb(${u}), rgb(${u})) top left / auto auto,
                        conic-gradient(#666 0.25turn, #999 0.25turn 0.5turn, #666 0.5turn 0.75turn, #999 0.75turn) ${-i.x-4}px 2px / 12px 12px
                        repeat`},className:"rcp-alpha-cursor"})))});var h=M(require("react"));function z(o,e){return Math.round(o*10**e)/10**e}function A({r:o,g:e,b:r,a:t}){let s=[Math.round(o),Math.round(e),Math.round(r)],n=z(t,3);return n<1&&s.push(n),s.join(", ")}function B({h:o,s:e,v:r,a:t}){let s=[`${Math.round(o)}\xB0`,`${Math.round(e)}%`,`${Math.round(r)}%`],n=z(t,3);return n<1&&s.push(n),s.join(", ")}var $=(0,h.memo)(({hideInput:o,color:e,disabled:r,onChange:t,onChangeComplete:s})=>{let[n,i]=(0,h.useState)({hex:{value:e.hex,inputted:!1},rgb:{value:A(e.rgb),inputted:!1},hsv:{value:B(e.hsv),inputted:!1}});(0,h.useEffect)(()=>{n.hex.inputted||i(l=>({...l,hex:{...l.hex,value:e.hex}}))},[n.hex.inputted,e.hex]),(0,h.useEffect)(()=>{n.rgb.inputted||i(l=>({...l,rgb:{...l.rgb,value:A(e.rgb)}}))},[n.rgb.inputted,e.rgb]),(0,h.useEffect)(()=>{n.hsv.inputted||i(l=>({...l,hsv:{...l.hsv,value:B(e.hsv)}}))},[n.hsv.inputted,e.hsv]);let a=(0,h.useCallback)(l=>m=>{let{value:d}=m.target;i(f=>({...f,[l]:{...f[l],value:d}})),t(l==="hsv"?p.convert("hsv",p.toHsv(d)):l==="rgb"?p.convert("rgb",p.toRgb(d)):p.convert("hex",d))},[t]),c=(0,h.useCallback)(l=>()=>{i(m=>({...m,[l]:{...m[l],inputted:!0}}))},[]),u=(0,h.useCallback)(l=>m=>{let{value:d}=m.target;i(f=>({...f,[l]:{...f[l],inputted:!1}})),s?.(l==="hsv"?p.convert("hsv",p.toHsv(d)):l==="rgb"?p.convert("rgb",p.toRgb(d)):p.convert("hex",d))},[s]);return h.default.createElement("div",{className:"rcp-fields"},!y(o,"hex")&&h.default.createElement("div",{className:"rcp-fields-floor"},h.default.createElement("div",{className:"rcp-field"},h.default.createElement("input",{id:"hex",className:"rcp-field-input",readOnly:r,value:n.hex.value,onChange:a("hex"),onFocus:c("hex"),onBlur:u("hex")}),h.default.createElement("label",{htmlFor:"hex",className:"rcp-field-label"},"HEX"))),(!y(o,"rgb")||!y(o,"hsv"))&&h.default.createElement("div",{className:"rcp-fields-floor"},!y(o,"rgb")&&h.default.createElement("div",{className:"rcp-field"},h.default.createElement("input",{id:"rgb",className:"rcp-field-input",readOnly:r,value:n.rgb.value,onChange:a("rgb"),onFocus:c("rgb"),onBlur:u("rgb")}),h.default.createElement("label",{htmlFor:"rgb",className:"rcp-field-label"},"RGB")),!y(o,"hsv")&&h.default.createElement("div",{className:"rcp-field"},h.default.createElement("input",{id:"hsv",className:"rcp-field-input",readOnly:r,value:n.hsv.value,onChange:a("hsv"),onFocus:c("hsv"),onBlur:u("hsv")}),h.default.createElement("label",{htmlFor:"hsv",className:"rcp-field-label"},"HSV"))))});var g=M(require("react"));var P=(0,g.memo)(({color:o,disabled:e,onChange:r,onChangeComplete:t})=>{let[s,{width:n}]=I(),i=(0,g.useMemo)(()=>({x:o.hsv.h/360*n}),[o.hsv.h,n]),a=(0,g.useCallback)((u,l)=>{let m=p.convert("hsv",{...o.hsv,h:l/n*360});r(m),u&&t?.(m)},[o.hsv,n,r,t]),c=(0,g.useMemo)(()=>[o.hsv.h,"100%","50%"].join(" "),[o.hsv.h]);return g.default.createElement(S,{disabled:e,onCoordinateChange:a},g.default.createElement("div",{ref:s,className:"rcp-hue"},g.default.createElement("div",{style:{left:i.x,backgroundColor:`hsl(${c})`},className:"rcp-hue-cursor"})))});var v=M(require("react"));var L=(0,v.memo)(({height:o,color:e,disabled:r,onChange:t,onChangeComplete:s})=>{let[n,{width:i}]=I(),a=(0,v.useMemo)(()=>{let m=e.hsv.s/100*i,d=(100-e.hsv.v)/100*o;return{x:m,y:d}},[e.hsv.s,e.hsv.v,i,o]),c=(0,v.useCallback)((m,d,f)=>{let N=p.convert("hsv",{...e.hsv,s:d/i*100,v:100-f/o*100});t(N),m&&s?.(N)},[e.hsv,i,o,t,s]),u=(0,v.useMemo)(()=>[e.hsv.h,"100%","50%"].join(" "),[e.hsv.h]),l=(0,v.useMemo)(()=>[e.rgb.r,e.rgb.g,e.rgb.b].join(" "),[e.rgb.r,e.rgb.g,e.rgb.b]);return v.default.createElement(S,{disabled:r,onCoordinateChange:c},v.default.createElement("div",{ref:n,style:{height:o,backgroundColor:`hsl(${u})`},className:"rcp-saturation"},v.default.createElement("div",{style:{left:a.x,top:a.y,backgroundColor:`rgb(${l})`},className:"rcp-saturation-cursor"})))});var j=(0,C.memo)(({height:o=200,hideAlpha:e=!1,hideInput:r=!1,color:t,disabled:s=!1,onChange:n,onChangeComplete:i})=>C.default.createElement("div",{className:"rcp-root rcp"},C.default.createElement(L,{height:o,color:t,disabled:s,onChange:n,onChangeComplete:i}),C.default.createElement("div",{className:"rcp-body"},C.default.createElement("section",{className:"rcp-section"},C.default.createElement(P,{color:t,disabled:s,onChange:n,onChangeComplete:i}),!e&&C.default.createElement(w,{color:t,disabled:s,onChange:n,onChangeComplete:i})),(!y(r,"hex")||!y(r,"rgb")||!y(r,"hsv"))&&C.default.createElement("section",{className:"rcp-section"},C.default.createElement($,{hideInput:r,color:t,disabled:s,onChange:n,onChangeComplete:i})))));var F=require("react");function O(o){let[e,r]=(0,F.useState)(p.convert("hex",o));return(0,F.useEffect)(()=>{r(p.convert("hex",o))},[o]),[e,r]}0&&(module.exports={Alpha,ColorPicker,ColorService,Hue,Saturation,useColor});
